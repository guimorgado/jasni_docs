---
title: "Reply to Email"
api: "POST /api/v1/emails/{id}/reply"
description: "Reply to an existing email with proper threading"
icon: "/icons-svg/reply.svg"
---

## Request

<ParamField path="id" type="integer" required>
  UID of the email to reply to
</ParamField>

<ParamField query="account" type="string" required>
  Email account to send from
</ParamField>

<ParamField query="folder" type="string" default="INBOX">
  Folder where the original email is located
</ParamField>

### Body

<ParamField body="text" type="string">
  Plain text reply body
</ParamField>

<ParamField body="html" type="string">
  HTML reply body
</ParamField>

<ParamField body="replyAll" type="boolean" default="false">
  Whether to reply to all recipients (Reply All)
</ParamField>

<ParamField body="includeOriginal" type="boolean" default="true">
  Whether to include the original message in the reply
</ParamField>

<Note>
  At least one of `text` or `html` is required.
</Note>

## Response

<ResponseField name="success" type="boolean">
  Indicates if the reply was sent successfully
</ResponseField>

<ResponseField name="data" type="object">
  <Expandable title="properties">
    <ResponseField name="messageId" type="string">
      Message-ID of the sent reply
    </ResponseField>
    <ResponseField name="from" type="string">
      Sender address
    </ResponseField>
    <ResponseField name="to" type="array">
      Recipients
    </ResponseField>
    <ResponseField name="cc" type="array">
      CC recipients (when using replyAll)
    </ResponseField>
    <ResponseField name="subject" type="string">
      Reply subject (with Re: prefix)
    </ResponseField>
    <ResponseField name="inReplyTo" type="string">
      Message-ID of the original email
    </ResponseField>
    <ResponseField name="references" type="string">
      Threading references
    </ResponseField>
    <ResponseField name="savedToSent" type="boolean">
      Whether saved to Sent folder
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>
```bash cURL
curl -X POST "https://api.jasni.ai/api/v1/emails/12345/reply?account=you@domain.com" \
  -H "Authorization: Bearer jsk_your_api_key" \
  -H "Content-Type: application/json" \
  -d '{
    "text": "Thanks for your email! I will review and get back to you.",
    "replyAll": false,
    "includeOriginal": true
  }'
```

```javascript JavaScript
const response = await fetch(
  'https://api.jasni.ai/api/v1/emails/12345/reply?account=you@domain.com',
  {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer jsk_your_api_key',
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      text: 'Thanks for your email! I will review and get back to you.',
      replyAll: false,
      includeOriginal: true,
    }),
  }
);

const data = await response.json();
```

```python Python
import requests

response = requests.post(
    'https://api.jasni.ai/api/v1/emails/12345/reply',
    headers={
        'Authorization': 'Bearer jsk_your_api_key',
        'Content-Type': 'application/json',
    },
    params={'account': 'you@domain.com'},
    json={
        'text': 'Thanks for your email! I will review and get back to you.',
        'replyAll': False,
        'includeOriginal': True,
    }
)
```
</RequestExample>

<ResponseExample>
```json Success
{
  "success": true,
  "data": {
    "messageId": "<1705312500456@domain.com>",
    "from": "you@domain.com",
    "to": ["sender@example.com"],
    "subject": "Re: Project Update",
    "inReplyTo": "<original123@example.com>",
    "references": "<original123@example.com>",
    "savedToSent": true
  }
}
```

```json Success - Reply All
{
  "success": true,
  "data": {
    "messageId": "<1705312500456@domain.com>",
    "from": "you@domain.com",
    "to": ["sender@example.com"],
    "cc": ["colleague@domain.com", "team@domain.com"],
    "subject": "Re: Project Update",
    "inReplyTo": "<original123@example.com>",
    "references": "<original123@example.com>",
    "savedToSent": true
  }
}
```

```json Error - Original not found
{
  "success": false,
  "error": "Original email not found"
}
```
</ResponseExample>

## How It Works

When you reply to an email, Jasni automatically:

1. **Determines recipients**: Extracts the correct reply-to address from the original email
2. **Handles Reply All**: When `replyAll: true`, includes all original recipients in To/CC
3. **Sets threading headers**: 
   - `In-Reply-To`: Points to the original email's Message-ID
   - `References`: Full thread chain for email client threading
4. **Formats subject**: Adds `Re:` prefix if not already present
5. **Quotes original**: When `includeOriginal: true`, adds the original message with proper formatting
6. **Saves to Sent**: Stores a copy in your Sent folder

## Example with HTML

```javascript
const response = await fetch(
  'https://api.jasni.ai/api/v1/emails/12345/reply?account=you@domain.com',
  {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer jsk_your_api_key',
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      html: `
        <p>Thanks for your email!</p>
        <p>I'll review the proposal and get back to you by <strong>Friday</strong>.</p>
        <p>Best regards,<br>Your Name</p>
      `,
      replyAll: true,
      includeOriginal: true,
    }),
  }
);
```
