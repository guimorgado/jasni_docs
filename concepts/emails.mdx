---
title: "Emails"
description: "Enable your AI agents to send, receive, and act on emails"
icon: "/icons-svg/email.svg"
---

## Overview

Jasni provides a complete email API that enables your AI agents to communicate autonomously. Send, receive, read, reply, and forward emails-all programmatically through your agent's inbox.

## Agent Inboxes

Before your agent can work with emails, it needs an inbox-its own email identity. You can:

- **Create a new identity**: Set up a fresh email address with your custom domain for your agent
- **Connect an existing account**: Give your agent access to an existing email provider (Gmail, Outlook, custom IMAP)

<Note>
  Each inbox is linked to your Jasni account. Your agents can only access emails from inboxes you've configured.
</Note>

## Email Structure

An email object in Jasni contains the following fields:

| Field | Type | Description |
|-------|------|-------------|
| `uid` | integer | Unique identifier within the mailbox |
| `messageId` | string | RFC 2822 Message-ID header |
| `from` | string | Sender email address |
| `to` | string[] | Recipient email addresses |
| `cc` | string[] | CC recipients |
| `subject` | string | Email subject line |
| `date` | datetime | When the email was sent/received |
| `text` | string | Plain text body |
| `html` | string | HTML body |
| `attachments` | object[] | List of attachments |
| `flags` | string[] | IMAP flags (e.g., `\Seen`, `\Flagged`) |

## Operations

### Listing Emails

Fetch emails from any folder in your mailbox:

```bash
GET /api/v1/emails?account=you@domain.com&folder=INBOX&limit=50
```

Common folders:
- `INBOX` - Incoming emails
- `Sent` - Sent emails
- `Drafts` - Draft emails
- `Trash` - Deleted emails
- `Spam` or `Junk` - Spam folder

### Reading an Email

Fetch a specific email by its UID:

```bash
GET /api/v1/emails/123?account=you@domain.com&folder=INBOX
```

### Sending Emails

Send a new email from one of your accounts:

```json
POST /api/v1/emails/send
{
  "from": "you@domain.com",
  "to": ["recipient@example.com"],
  "subject": "Hello!",
  "text": "Plain text content",
  "html": "<p>HTML content</p>"
}
```

<Tip>
  Always provide both `text` and `html` versions for maximum compatibility across email clients.
</Tip>

<Warning>
  **Attachments**: Sending attachments via the API is coming soon. Currently, only text and HTML bodies are supported.
</Warning>

### Replying to Emails

Reply to an existing email with proper threading:

```json
POST /api/v1/emails/123/reply?account=you@domain.com
{
  "text": "Thanks for your message!",
  "replyAll": false,
  "includeOriginal": true
}
```

Jasni automatically:
- Sets the correct `In-Reply-To` and `References` headers
- Determines the correct recipients
- Adds `Re:` prefix to the subject
- Quotes the original message (if `includeOriginal` is true)

### Forwarding Emails

Forward an email to new recipients:

```json
POST /api/v1/emails/123/forward?account=you@domain.com
{
  "to": ["colleague@example.com"],
  "text": "FYI - see below"
}
```

### Updating Email Status

Mark emails as read or unread:

```json
PATCH /api/v1/emails/123?account=you@domain.com
{
  "action": "read"
}
```

### Deleting Emails

Move an email to trash:

```bash
DELETE /api/v1/emails/123?account=you@domain.com
```

## Threading

Email threading is automatically handled by Jasni. When you reply to or forward an email, the proper headers are set:

- **Message-ID**: Unique identifier for each email
- **In-Reply-To**: References the parent email's Message-ID
- **References**: Full chain of Message-IDs in the thread

This ensures emails are grouped correctly in the recipient's email client.

### Listing Threads

Retrieve email conversations grouped by thread:

```bash
GET /api/v1/emails/threads?account=you@domain.com&folder=INBOX
```

Response includes thread previews with participant info, message counts, and snippets.

### Getting a Thread

Fetch all emails in a specific thread:

```bash
GET /api/v1/emails/threads/{threadId}?account=you@domain.com
```

Returns all emails in chronological order with full content.

<Tip>
  Use the threads API to build AI agents that understand conversation context before generating responses.
</Tip>

## Attachments

When listing or reading emails, attachment metadata is included:

```json
{
  "attachments": [
    {
      "filename": "document.pdf",
      "contentType": "application/pdf",
      "size": 102400
    }
  ]
}
```

<Note>
  Attachment download endpoints are available for fetching actual attachment content.
</Note>

## Best Practices for AI Agents

<AccordionGroup>
  <Accordion title="Use webhooks for instant reactions" icon="/icons-svg/webhook.svg">
    Set up webhooks for `email.received` events so your agent can react immediately. Polling adds latency and wastes resources.
  </Accordion>
  
  <Accordion title="Maintain conversation context" icon="/icons-svg/message.svg">
    Use the References header to track email threads. This helps your agent understand conversation history and respond contextually.
  </Accordion>
  
  <Accordion title="Validate before sending" icon="/icons-svg/check.svg">
    Have your agent validate recipient email addresses before sending to avoid bounces and maintain sender reputation.
  </Accordion>
  
  <Accordion title="Respect rate limits" icon="/icons-svg/refresh.svg">
    Implement proper rate limiting in your agent to avoid hitting API limits, especially when processing large volumes.
  </Accordion>
</AccordionGroup>

## Related

<CardGroup cols={2}>
  <Card title="Send Email" icon="/icons-svg/send.svg" href="/api-reference/emails/send">
    Send email endpoint
  </Card>
  <Card title="List Emails" icon="/icons-svg/inbox.svg" href="/api-reference/emails/list">
    List emails endpoint
  </Card>
  <Card title="Webhooks" icon="/icons-svg/webhook.svg" href="/concepts/webhooks">
    Real-time notifications
  </Card>
  <Card title="Labels" icon="/icons-svg/label.svg" href="/concepts/labels">
    Organize emails
  </Card>
</CardGroup>
